<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calorie Guessing Game</title>
    <!-- Fancy Google Font -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            min-height: 100vh;
            background: radial-gradient(circle at top left, #22c55e 0, #14532d 40%, #020617 100%);
            color: #f9fafb;
            padding: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        body::before {
            content: "";
            position: fixed;
            inset: 0;
            pointer-events: none;
            background:
              radial-gradient(circle at 10% 20%, rgba(34,197,94,0.20) 0, transparent 40%),
              radial-gradient(circle at 90% 80%, rgba(59,130,246,0.20) 0, transparent 40%);
            mix-blend-mode: screen;
        }

        .container {
            max-width: 72rem;
            width: 100%;
            margin: 0 auto;
            position: relative;
            z-index: 1;
            backdrop-filter: blur(20px);
            background: linear-gradient(135deg, rgba(15,23,42,0.92), rgba(15,118,110,0.75));
            border-radius: 1.5rem;
            border: 1px solid rgba(148, 163, 184, 0.25);
            box-shadow:
              0 24px 60px rgba(15,23,42,0.8),
              0 0 0 1px rgba(15,23,42,0.8);
            padding: 1.5rem 1.5rem 2rem;
        }

        .header {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            padding: 0.5rem 0 1.5rem;
            border-bottom: 1px solid rgba(148, 163, 184, 0.3);
        }

        h1 {
            font-size: 2.4rem;
            font-weight: 700;
            letter-spacing: 0.06em;
            text-transform: uppercase;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-shadow: 0 10px 30px rgba(15,23,42,0.7);
        }

        .subtitle {
            color: #a5f3fc;
            margin-bottom: 0.25rem;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.18em;
        }

        .scores {
            display: flex;
            justify-content: center;
            gap: 2rem;
            font-size: 1.125rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }

        .score-pill {
            background: radial-gradient(circle at top left, rgba(34,197,94,0.2), rgba(8,47,73,0.8));
            border-radius: 999px;
            padding: 0.4rem 1rem;
            border: 1px solid rgba(148, 163, 184, 0.4);
            box-shadow: 0 8px 20px rgba(15,23,42,0.6);
        }

        .score-label {
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.18em;
            color: #bae6fd;
        }

        .score-value {
            display: inline-block;
            margin-left: 0.35rem;
            font-weight: 700;
            color: #f9fafb;
        }

        .game-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 1rem;
            margin-top: 2rem;
        }

        @media (min-width: 768px) {
            .game-grid {
                grid-template-columns: 1fr 1fr;
            }
        }

        .food-card {
            background: radial-gradient(circle at top, rgba(34,197,94,0.15), rgba(15,23,42,0.95));
            border-radius: 1.25rem;
            padding: 2.25rem 2rem;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 320px;
            position: relative;
            overflow: hidden;
            transition: transform 0.35s ease, box-shadow 0.35s ease, border-color 0.35s ease, background 0.35s ease;
            border: 1px solid rgba(148, 163, 184, 0.35);
            box-shadow: 0 18px 45px rgba(15,23,42,0.8);
        }

        .food-card.answer {
            box-shadow: 0 0 0 2px #facc15, 0 22px 50px rgba(161, 98, 7, 0.75);
            border-color: #facc15;
            transform: translateY(-4px) scale(1.01);
        }

        .food-image {
            width: 140px;
            height: 140px;
            object-fit: cover;
            border-radius: 0.75rem;
            margin-bottom: 1.25rem;
            background-color: #0f172a;
            border: 2px solid rgba(148, 163, 184, 0.5);
            box-shadow: 0 18px 40px rgba(15,23,42,0.85);
        }

        .food-name {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 0.75rem;
            text-align: center;
            letter-spacing: 0.05em;
        }

        .calories-display {
            text-align: center;
        }

        .calories-number {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            text-shadow: 0 10px 30px rgba(15,23,42,0.8);
        }

        .calories-label {
            color: #a5f3fc;
            font-size: 0.95rem;
            text-transform: uppercase;
            letter-spacing: 0.15em;
        }

        .question-mark {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .buttons {
            display: flex;
            gap: 1rem;
            margin-top: 2rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        button {
            padding: 1rem 3rem;
            border-radius: 999px;
            font-weight: 600;
            font-size: 1.1rem;
            border: none;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease, filter 0.2s ease;
            box-shadow: 0 14px 30px rgba(15,23,42,0.8);
        }

        button:hover {
            transform: translateY(-3px) scale(1.01);
            filter: brightness(1.05);
        }

        .btn-more {
            background: linear-gradient(135deg, #f97316, #fb923c);
            color: #0f172a;
        }

        .btn-more:hover {
            background: linear-gradient(135deg, #fb923c, #fdba74);
        }

        .btn-less {
            background: linear-gradient(135deg, #2563eb, #38bdf8);
            color: #0f172a;
        }

        .btn-less:hover {
            background: linear-gradient(135deg, #38bdf8, #7dd3fc);
        }

        .btn-play-again {
            background: linear-gradient(135deg, #22c55e, #a3e635);
            color: #022c22;
        }

        .btn-play-again:hover {
            background: linear-gradient(135deg, #4ade80, #bef264);
        }

        #btnLeaderboard,
        #btnSignIn,
        #btnSignOut {
            padding: 0.55rem 1.2rem;
            border-radius: 999px;
            font-size: 0.85rem;
            background: rgba(15,23,42,0.9);
            color: #e5e7eb;
            border: 1px solid rgba(148, 163, 184, 0.6);
            box-shadow: 0 10px 25px rgba(15,23,42,0.9);
        }

        #btnLeaderboard {
            background: radial-gradient(circle at top left, rgba(56,189,248,0.25), rgba(15,23,42,0.95));
        }

        #btnSignIn {
            background: radial-gradient(circle at top left, rgba(34,197,94,0.25), rgba(15,23,42,0.95));
        }

        #btnSignOut {
            background: radial-gradient(circle at top left, rgba(239,68,68,0.25), rgba(15,23,42,0.95));
        }

        .game-over {
            background: radial-gradient(circle at top, rgba(248,250,252,0.04), rgba(15,23,42,0.9));
            border-radius: 1.25rem;
            padding: 3rem 2rem;
            text-align: center;
            margin-top: 2rem;
            border: 1px solid rgba(148, 163, 184, 0.3);
            box-shadow: 0 22px 50px rgba(15,23,42,0.85);
        }

        .final-score {
            font-size: 4rem;
            font-weight: bold;
            margin: 1rem 0;
            text-shadow: 0 18px 40px rgba(15,23,42,0.9);
        }

        .trophy {
            width: 4rem;
            height: 4rem;
            margin: 0 auto 0.5rem;
        }

        .trophy-name {
            font-size: 1.5rem;
            font-weight: bold;
            margin-top: 0.5rem;
        }

        .trophy-bronze { color: #fb923c; }
        .trophy-silver { color: #d1d5db; }
        .trophy-gold { color: #facc15; }
        .trophy-champion { color: #c084fc; }

        .answer-text {
            margin-top: 1rem;
            font-size: 1.25rem;
            font-weight: bold;
        }

        .correct { color: #86efac; }
        .incorrect { color: #fca5a5; }

        .explanation {
            color: #bae6fd;
            margin: 1.5rem 0;
        }

        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üçé Calorie Guessing Game üçå</h1>
            <p class="subtitle">Which food has more calories per 100g?</p>
        
            <div class="scores">
                <div class="score-pill">
                    <span class="score-label">User</span>
                    <span class="score-value" id="userName">Guest</span>
                </div>
                <div class="score-pill">
                    <span class="score-label">Streak</span>
                    <span class="score-value" id="streak">0</span> üî•
                </div>
                <div class="score-pill">
                    <span class="score-label">Score</span>
                    <span class="score-value" id="score">0</span>
                </div>
                <div class="score-pill">
                    <span class="score-label">High Score</span>
                    <span class="score-value" id="highScore">0</span>
                </div>
                <button id="btnLeaderboard" onclick="showLeaderboard()">
                    Leaderboard
                </button>
                <button id="btnSignIn">
                    Sign in with Google
                </button>
                <button id="btnSignOut" style="display:none;">
                    Sign out
                </button>
            </div>
        </div>

        <div id="gameArea">
            <div class="game-grid">
                <div class="food-card" id="currentCard">
                    <img id="currentImage" class="food-image" src="" alt="Food image">
                    <h2 class="food-name" id="currentFood">Apple</h2>
                    <div class="calories-display">
                        <div class="calories-number" id="currentCalories">52</div>
                        <div class="calories-label">calories per 100g</div>
                    </div>
                </div>

                <div class="food-card" id="nextCard">
                    <img id="nextImage" class="food-image" src="" alt="Food image">
                    <h2 class="food-name" id="nextFood">Banana</h2>
                    <div class="calories-display" id="nextCaloriesDisplay">
                        <div class="question-mark">?</div>
                        <div class="calories-label">Make your guess</div>
                    </div>
                </div>
            </div>

            <div class="buttons" id="buttonArea">
                <button class="btn-more" onclick="makeGuess('more')">More Calories ‚Üë</button>
                <button class="btn-less" onclick="makeGuess('less')">Fewer Calories ‚Üì</button>
            </div>
        </div>

        <div id="gameOverArea" class="game-over hidden">
            <h2 style="font-size: 2.25rem; margin-bottom: 1rem;">Game Over!</h2>
            <div class="final-score" id="finalScore">0</div>
            <p style="font-size: 1.25rem; margin-bottom: 1.5rem;">Final Score</p>
            
            <div id="trophyArea" class="hidden">
                <svg class="trophy" id="trophyIcon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M6 9H4.5a2.5 2.5 0 0 1 0-5H6"></path>
                    <path d="M18 9h1.5a2.5 2.5 0 0 0 0-5H18"></path>
                    <path d="M4 22h16"></path>
                    <path d="M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"></path>
                    <path d="M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"></path>
                    <path d="M18 2H6v7a6 6 0 0 0 12 0V2Z"></path>
                </svg>
                <div class="trophy-name" id="trophyName">Gold Trophy!</div>
            </div>

            <p class="explanation" id="explanation"></p>
            
            <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
                <button class="btn-play-again" onclick="startNewGame()">Play Again</button>
                <button class="btn-less" onclick="showLeaderboard()">View Leaderboard</button>
            </div>
        </div>
        <div id="leaderboardArea" class="game-over hidden" style="margin-top: 2.5rem;">
            <h2 style="font-size: 2.25rem; margin-bottom: 0.25rem;">Global Leaderboard</h2>
            <p class="subtitle" style="margin-bottom: 0.75rem;">Top players by all‚Äëtime high score</p>
            <p class="subtitle" style="font-size: 0.8rem; opacity: 0.9; margin-bottom: 1.5rem;">Sign in is required to view and appear on the leaderboard.</p>
            <ul id="lbList" style="list-style: none; padding: 0; margin: 0 0 1.75rem 0; display: flex; flex-direction: column; gap: 0.75rem;"></ul>
            <button class="btn-play-again" onclick="startNewGame()">Play Again</button>
        </div>
    </div>

    <script type="module" src="./js/main.js"></script>
</body>
</html>